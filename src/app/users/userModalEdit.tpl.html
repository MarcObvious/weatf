<div class="usersClass">
    <div class="modal-header">
        <h3 class="modal-title" ng-if="userModal.newuser"><i class="fa fa-user"></i> Alta nuevo usuario</h3>
        <h3 class="modal-title" ng-if="!userModal.newuser"><i class="fa fa-user"></i> Edición del usuario {{userModal.email}}</h3><span style="color:red;" class="inline">(* campo obligatorio)</span>
    </div>
    <div class="modal-body clearfix">
        <div class="col-md-12">
            <div class="form-group">
                <div class="col-md-6">
                    <label>Nombre <sup style="color:red">*</sup></label>
                    <input class="form-control input-modal" placeholder="Nombre del usuario" ng-model="userModal.firstname">
                </div>
                <div class="col-md-6">
                    <label>Apellido <sup style="color:red">*</sup></label>
                    <input class="form-control input-modal" placeholder="Apellido del usuario" ng-model="userModal.lastname">
                </div>
                <div class="col-md-6">
                    <label>Contraseña</label>
                    <input type="password" class="form-control input-modal" placeholder="Contraseña" ng-model="userModal.password">
                </div>
                <div class="col-md-6">
                    <label>Repite la contraseña</label>
                    <input type="password" class="form-control input-modal" placeholder="Repite la contraseña" ng-model="userModal.password_val">
                </div>
                <div class="col-md-6">
                    <label>Email: <sup style="color:red">*</sup></label>
                    <input class="form-control input-modal" placeholder="Email" ng-model="userModal.email">
                </div>
                <div class="col-md-6">
                    <label>Teléfono:</label>
                    <input class="form-control input-modal" placeholder="Teléfono" ng-model="userModal.directions.phone">
                </div>
                <div class="col-md-6">
                    <label>Aniversario:</label>
                    <p class="input-group">
                        <input title="Aniversario" type="text" name="birthday"
                               class="form-control" is-open="dates.opened"
                               ng-model="dates.birthday" popup-placement="bottom"
                               uib-datepicker-popup="{{dates.format}}"
                               datepicker-options="dates.dateOptions"
                               placeholder="Aniversario"/>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-success" ng-click="openDatepicker()"><i class="fa fa-calendar"></i></button>
                        </span>
                    </p>
                </div>
                <div class="col-md-6">
                    <label>Género:</label>
                    <select class="form-control input-modal" ng-model="userModal.gender">
                        <option value="H">H</option>
                        <option value="M">M</option>
                        <option value="null">Desconocido</option>
                    </select>
                </div>
                <div ng-show="usertype_editor == 10 && (userModal.user_type !='10' && userModal.user_type != '5')">
                    <div class="col-md-6">
                        <label>Asignar usuario padre existente:</label>
                        <select class="form-control input-modal" ng-model="userModal.user_id">
                            <option ng-repeat="user in users" value="{{user.id}}">{{user.email}}</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label>Asignar usuario padre nuevo:</label>
                        <button type="button" class="btn btn-success btn-block input-modal" ng-click="newUser()">
                            Nuevo usuario <i class="fa fa-user"></i>
                        </button>
                    </div>
                </div>
                <div class="col-md-6">
                    <label>Imagen assignada:</label>
                    <input disabled class="form-control input-modal" placeholder="Ninguna" ng-model="picture">
                </div>
                <div ng-show="picture" class="col-md-6">
                    <label>Imagen:</label>
                    <button type="button" class="btn btn-danger btn-block btn-mostrar input-modal" ng-click="eliminarImagen()">
                        Eliminar imagen <i class="fa fa-trash"></i>
                    </button>
                </div>
                <div ng-show="!picture" class="col-md-6">
                    <label>Imagen:</label>
                    <input class="form-control input-modal" base-sixty-four-input type="file" ng-model="userModal.raw_picture">
                </div>
                <div class="col-md-6">
                    <label>Tipo de usuario:</label>
                    <select class="form-control input-modal" ng-model="userModal.user_type">
                        <option value="10">Super-Admin</option>
                        <option value="5">Franquiciado</option>
                        <option value="2">Local</option>
                        <option value="1">Cliente</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12">
            <div class="col-md-4">
                <button type="button" class="btn btn-warning btn-block input-modal" ng-click="cancel()">
                    Cancelar <i class="fa fa-ban"></i>
                </button>
            </div>
            <div class="col-md-4" ng-if="userModal.newuser">
                <button type="button" class="btn btn-danger btn-block input-modal" ng-click="cancel()">
                    Descartar usuario <i class="fa fa-trash"></i>
                </button>
            </div>
            <div class="col-md-4" ng-if="!userModal.newuser">
                <button type="button" class="btn btn-danger btn-block input-modal" ng-click="deleteUser()">
                    Eliminar usuario <i class="fa fa-trash"></i>
                </button>
            </div>
            <div class="col-md-4">
                <button type="button" class="btn btn-success btn-block input-modal" ng-click="save()">
                    Guardar usuario <i class="fa fa-floppy-o"></i>
                </button>
            </div>
        </div>
    </div>
</div>
